<html>
<head>
<title>Internal Processor Registers</title>
</head>

<body>

<IMG ALIGN=left SRC="pics/MacVAX-Icon.GIF">	

<center><h1>VAX Internal Processor Registers
<br>Machine Check</h1></center><br>

<p>These registers are accessed using the <b>mtpr</b> and <b>mfpr</b> instructions.<p>

<hr><!-- -------------------------------------------------------------- -->

<A NAME="IPL_17"></a>
	<dt><b>MCSR
	<dd>0x17</b> Machine Check Status Register			(Read Only)
	<p><IMG ALIGN=bottom SRC="pics/IPR-generic.GIF">

<p>The <B>MCSR</B> provides additional information about bus errors and translation buffer errors which caused a machine check fault. As the only cause of a machine check fault on MacVAX is a bus error caused by an access to a non-existent physical memory location only <B>bit 3</B> of this register will be set. It is cleared when the bus error bit of the <B>MCESR</B> is cleared.<p>

<A NAME="IPL_26"></a>
	<dt><b>MCESR 
	<dd>0x26 </b> Machine Check Error Summary Register	(Read/Write)
	<p><IMG ALIGN=bottom SRC="pics/IPR-generic.GIF">

<p>The <B>MCESR</B> logs information about causes of a machine check fault. Currently the only thing that will cause a machine check fault on MacVax is a read or write to a non-existent Physical memory location. This will generate a bus error and set <B>bit 3</B> of the register. The <B>MCSR</B> register holds further details of the bus error. I believe a real VAX may only generate a bus error on a read and not on a write. Writing a <B>1</B> to the Bus Error bit clears it. It will also clear<B> bits 0</B> to <B>3</B> of the  <B>MCSR</B>.
	<p>
</dl>                                                            

</body>
</html>
