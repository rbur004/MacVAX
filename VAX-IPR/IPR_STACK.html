<html><head><title>Internal Processor Registers</title></head><body><IMG ALIGN=left SRC="pics/MacVAX-Icon.GIF">	<center><h1>VAX Internal Processor Registers<br>Stack Registers</h1></center><br><p>These registers are accessed using the <b>mtpr</b> and <b>mfpr</b> instructions.<p><hr><!-- -------------------------------------------------------------- --><dl compact><A NAME="IPR_0"></A>	<dt><b>KSP <dd>0x0</b> Kernel Stack Pointer			(Read / Write)<A NAME="IPR_1"></A>	<dt><b>ESP <dd>0x1</b> Executive Stack Pointer			(Read / Write)<A NAME="IPR_2"></A>	<dt><b>SSP <dd>0x2</b> Supervisor Stack Pointer			(Read / Write)<A NAME="IPR_3"></A>	<dt><b>USP <dd>0x3</b> User Stack Pointer				(Read / Write)<A NAME="IPR_4"></A>	<dt><b>ISP <dd>0x4</b> Interrupt Stack Pointer			(Read / Write)		<p><IMG ALIGN=bottom SRC="pics/IPR-generic.GIF">		<p>		A <b>VAX</b> process has four stacks. The stack pointer to be used is 		determined by <b>bits 23</B> and <B>24</b>, the current mode		 bits 	(<b>CMD</b>), 	and		<b>bit 25</b>, the interrupt stack bit (<b>IS</b>), of the processor 		status 	long 	word (<b>PSL</b>). 		The <b>IS</b> bit of the <b>PSL</b> is set when the processor aborts, 		faults, 		traps or 		interrupts through a System Control Block (<b>SCB</b>) vector which has 		the 	low 2 	bits set to 01. 		The <b>CMD</b> field of 		the <b>PSL</b> is set to <strong>0</strong> on an  abort, fault, trap		 or interrupt. 		The <b>IS</b> bit of the <b>PSL</b> is cleared 		when a new <b>PSL</b> with the <b>IS</b> bit clear, is load by a 		<b>rei</b> 	instruction.		<p></dl></body></html>