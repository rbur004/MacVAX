<!doctype html public "-//IETF//DTD HTML 2.0//EN"><HTML><HEAD><TITLE>POLY Instruction</TITLE></HEAD><BODY><H2>POLY Instruction</h2><table border=0 valign=top cellpadding=5><tr>	<td><b>Purpose:</b></td><td>Allows fast calculation of math functions</td><tr>	<td><b>Format:</b></td><td>opcode arg.rx, degree.rx, tbladdr.ab</td><tr>	<td valign=top><b>Operation:</b></td><td>	result <- tbladdr[0]; tbladdr being an array of type x<br>	tmp &lt- 1; <br>	while i <= degree do<br>	{<br>	<ul>		result &lt- arg * result <br>		<ul>			;Peform the multiply and retain an extended floating fraction			of 31 bits (POLYF) or 63 bits (POLYD) in result.<br>		</ul>		result &lt- result + tbladdr[tmp];<br>		<ul>			;Normalize, round, and check for under or overflow only after the			combined multiply and add sequence.<br>		</ul>		tmp &lt- tmp + 1;<br>		If an overflow then trap;<br>		If an underflow then clear result, remember overflow and continue looping.<br>	</ul>		}<br>	If a remembered underflow occurred then trap<br>	R0 &lt- result	</td><tr>	<td valign=top><b>Condition<br>Codes:</b></td>		<td>N &lt- R0 LSS 0;<br>			Z &lt- R0 EQL 0;<br>			V &lt- Floating Overflow;<br>			C &lt- 0;</td><tr>	<td valign=top><B>Exceptions:</B></td><td>Floating Overflow <br>							Floating Underflow<br>							Reserved Operand (Floating Point)</td><tr>	<td valign=top><b>Opcodes:<b></td>		<td>			<table border=0 valign=top cellpadding=2>			<tr> <td>55</td><td>POLYF</td><td>Polynomial Evaluation Float</td>			<tr> <td>75</td><td>POLYD</td><td>Polynomial Evaluation Double</td>			</table>		</td><tr>	<td valign=top><b>Description:</b></td>		<td>The table address operand (tbladdr) points to a table of polynomial coefficients with the highest order term of the polynomial pointed to by the table address operand. The table is specified with lower order coefficients stored at increasing addresses. The Data type of the coefficients is the same as the data type of the argument operand (arg).<p>The evaluation is carried out by Horner's method and the contents of <B>R0</B> (<B>R1</B>,<B>R0</B> for POLYD) are replace by the result. The result computed is:<br><ul>if d = degree and x = arg<br>result = C[0] + x * (C[1] + x *(C[2] + ... x*C[d]))</ul>The unsigned word degree operand specifies the highest number coefficient to participate in the evaluation.</td><tr>	<td valign=top><b>Notes:</b></td>		<td><dl compact>		<dt>1.<dd>After execution:<br><br>				  <B>POLYF</B><br>				  R0 = result<br>				  R1 = 0<br>				  R2 = 0<br>				  R3 = table address + degree * 4 + 4<br><br>				  <B>POLYD</B><br>				  R0 = high order part of the result.<br>				  R1 = low order part of the result.<br>				  R2 = 0<br>				  R3 = table address + degree * 8 + 8<br>				  R4 = 0<br>				  R5 = 0<br><br>		<dt>2.<dd>The multiplication is performed such that the precision of the product is equivalent to a floating point datum having a 31 bit (63 bit for POLYD) fraction.		<dt>3.<dd>If the unsigned word degree operand is 0, the result is C0.		<dt>4.<dd>If the  unsigned word degree operand is greater than 31, a reserved operand exception occurs.		<dt>5.<dd>On a reserved operand exception:<br>			<dl compact>			<dt>1.<dd>If PSL&ltFPD&gt = 0, the reserved operand is either the degree operand (greater than 31) or the argument operand, or some source coefficient.			<dt>2.<dd>If the PSL<FPD> = 1, the reserved operand is a coefficient and R3 is pointing at the value which caused the exception.			<dt>3.<dd>The state of the saved condition codes and other registers is unpredictable. If the reserved operand is changed and the contents of the condition codes and all registers are preserved, the fault is continuable.			</dl>		<dt>6.<dd>On floating point uderflow after the rounding operation, the temporary result (tmp3) is replaced by 0, and the operation continues. A floating point underflow trap occurs at the end of the instruction if the underflow occurred during any iteration of the computation loop. Note that the final result may be non zero if underflow occured before the last iteration.		<dt>7.<dd>On floating overflow after the rounding operation at any iteration of the computation loop, the instuction terminates and causes a trap. On overflow the contents of R2 and R3 (R2 through R5 for POLYD) are unpredictable. R0 contains the reserved operand (-0) and R1 = 0.		<dt>8.<dd>POLY can have both overflow and underflow in the same instruction. If both occur, overflow trap is taken; underflow trap is lost.		<dt>9.<dd>If the argument is zero and one of the coefficients in the table is a reserved operand, whether a reserved operand fault occurs is unpredictable.		</dl></td></table></BODY></HTML>