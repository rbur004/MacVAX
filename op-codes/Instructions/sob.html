<!doctype html public "-//IETF//DTD HTML 2.0//EN">
<HTML>

<HEAD>
<TITLE>SOB Instruction
</TITLE>
</HEAD>

<BODY>
<H2>SOB Instruction</h2>

<table border=0 valign=top cellpadding=5>

<tr>	<td valign=top><b>Purpose:</b></td><td>Decrement integer loop count and loop</td>

<tr>	<td valign=top><b>Format:</b></td><td>opcode index.ml, displ.bb</td>
<tr>	<td valign=top><b>Operation:</b></td><td>
	<dl>
	<dt>index &lt- index - 1;
	<dt><B>SOBGEQ</B>
	<dt>if index &gt= 0 then
	<dd>PC &lt- PC + sign-extended displ
	<dt><b>SOBGTR</B>
	<dt>if index &gt 0 then
	<dd>PC &lt- PC + sign-extended displ
	</dl>
</td>

<tr>	<td valign=top><b>Condition<br>Codes:</b></td>
		<td>N &lt- index LSS 0;<br>
			Z &lt- index EQL 0;<br>
			V &lt- Integer Overflow;<br>
			C &lt- C;</td>

<tr>	<td valign=top><B>Exceptions:</B></td><td>Integer Oveflow</td>

<tr>	<td valign=top><b>Opcodes:<b></td>
		<td>
			<table border=0 valign=top cellpadding=2>
			<tr> <td>F4</td><td>SOBGEQ</td><td>Subtract One and Branch Greater Than or Equal</td>
			<tr> <td>F5</td><td>SOBGTR</td><td>Subtract One and Branch Greater Than</td>
			</table>
		</td>

<tr>	<td valign=top><b>Description:</b></td>
		<td>One is subtracted from the index operand and the index operand is replaced by the result. On SOBGEQ, if the index operand is greater than or equal to 0, the branch is taken. On SOBGTR, if the index operand is greater than 0, the branch is taken. If the branch is taken, the sign-extended displacement operand is added to the <b>PC</b> and the <b>PC</b> is replaced by the result.</td>

<tr>	<td valign=top><b>Notes:</b></td>
		<td><dl compact>
		<dt>1.<dd>Integer overflow occurs if the index operand, before the subtraction, is the largest possible negative integer. On integer overflow, the index operand is replaced by the largest positive integer, and thus the branch is taken.
		<dt>2.<dd>The C-Bit is unaffected.</td>
</table>

</BODY>

</HTML>
